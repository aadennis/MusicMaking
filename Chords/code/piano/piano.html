<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Layered Piano Keyboard</title>
  <style>
    body {
      margin: 40px;
      background-color: #f4f4f4;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    svg {
      background-color: #fff;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }
  </style>

  <script src="chordMap.js"></script>
  <script src="fingeringMap.js"></script>
  <script>
    // Wait until DOM is ready
    window.addEventListener('DOMContentLoaded', () => {
      renderFingering('B_major', 'fingering-overlay');
      // see js - fingeringMap.renderFingering() for available chords
    });
  </script>

</head>

<body>
  <div id="keyboard-container" style="display: flex; flex-direction: column; align-items: center;">

    <svg width="798" height="200" viewBox="0 0 798 200" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <!-- Base dot with white outline for contrast -->
        <circle id="fingering-dot" r="10" fill="blue" stroke="white" stroke-width="3" />

        <!-- Anchor group with fixed vertical position -->
        <g id="fingering-anchor">
          <use href="#fingering-dot" y="180" />
        </g>

        <!-- fingering position is higher for black keys -->
        <g id="fingering-anchor-black">
          <use href="#fingering-dot" y="90" />
        </g>
      </defs>

      <!-- Layer 1: White background -->
      <rect x="0" y="0" width="720" height="200" fill="white" />

      <!-- Layer 2: Black dividers -->
      <g stroke="black" stroke-width="2">
        <line x1="42" y1="0" x2="42" y2="200" />
        <line x1="84" y1="0" x2="84" y2="200" />
        <line x1="126" y1="0" x2="126" y2="200" />
        <line x1="168" y1="0" x2="168" y2="200" />
        <line x1="210" y1="0" x2="210" y2="200" />
        <line x1="252" y1="0" x2="252" y2="200" />
        <line x1="294" y1="0" x2="294" y2="200" />
        <line x1="336" y1="0" x2="336" y2="200" />
        <line x1="378" y1="0" x2="378" y2="200" />
        <line x1="420" y1="0" x2="420" y2="200" />
        <line x1="462" y1="0" x2="462" y2="200" />
        <line x1="504" y1="0" x2="504" y2="200" /> <!-- D-4 -->
        <line x1="546" y1="0" x2="546" y2="200" /> <!-- E-4 -->
        <line x1="588" y1="0" x2="588" y2="200" /> <!-- F-4 -->
        <line x1="630" y1="0" x2="630" y2="200" /> <!-- G-4 -->
        <line x1="672" y1="0" x2="672" y2="200" /> <!-- A-4 -->
        <line x1="714" y1="0" x2="714" y2="200" /> <!-- B-4 -->
        <line x1="756" y1="0" x2="756" y2="200" /> <!-- C-5 -->
      </g>

      <!-- Layer 3: Black keys -->

      <g id="black-keys">
        <rect x="28.0" y="0" width="28" height="120" fill="black" />
        <rect x="70.0" y="0" width="28" height="120" fill="black" />
        <rect x="112.0" y="0" width="28" height="120" fill="black" />
        <rect x="196.0" y="0" width="28" height="120" fill="black" />
        <rect x="238.0" y="0" width="28" height="120" fill="black" />
        <rect x="322.0" y="0" width="28" height="120" fill="black" />
        <rect x="364.0" y="0" width="28" height="120" fill="black" />
        <rect x="406.0" y="0" width="28" height="120" fill="black" />
        <rect x="490.0" y="0" width="28" height="120" fill="black" />
        <rect x="532" y="0" width="28" height="120" fill="black" /> <!-- D#-4 -->
        <rect x="616" y="0" width="28" height="120" fill="black" /> <!-- G#-4 -->
        <rect x="658" y="0" width="28" height="120" fill="black" /> <!-- A#-4 -->
        <rect x="700" y="0" width="28" height="120" fill="black" /> <!-- C#-5 -->
        <rect x="784" y="0" width="28" height="120" fill="black" /> <!-- F#-4 -->
      </g>

      <!-- Layer 4: Fingering overlays -->
      <g id="fingering-overlay"></g>
    </svg>
    <div id="chord-caption" style="margin-top: 20px; font-family: sans-serif; font-size: 18px; text-align: center;">
    </div>
  </div>
</body>

</html>